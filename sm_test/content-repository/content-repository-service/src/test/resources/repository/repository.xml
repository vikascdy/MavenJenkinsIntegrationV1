<?xml version="1.0"?>

<!DOCTYPE Repository
        PUBLIC "-//The Apache Software Foundation//DTD Jackrabbit 2.6//EN"
        "http://jackrabbit.apache.org/dtd/repository-2.6.dtd">

<!-- Example Repository Configuration File Used by - org.apache.jackrabbit.core.config.RepositoryConfigTest.java 
	- -->
<Repository>
    <FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
        <param name="path" value="${rep.home}/" />
    </FileSystem>

    <!-- data store configuration -->
    <DataStore class="org.apache.jackrabbit.core.data.FileDataStore" />

    <!-- security configuration -->
    <Security appName="Jackrabbit">

        <SecurityManager class="org.apache.jackrabbit.core.DefaultSecurityManager"
                         workspaceName="security" />

        <AccessManager
                class="org.apache.jackrabbit.core.security.DefaultAccessManager" />
        <LoginModule
                class="org.apache.jackrabbit.core.security.simple.SimpleLoginModule">
            <!-- param name="anonymousId" value="anonymous" / -->
            <!-- administrator user id (default value if param is missing is 'admin') -->
            <param name="adminId" value="system" />
            <!-- optional parameter 'principalProvider'. the value refers to the class
                name of the PrincipalProvider implementation. -->
            <!-- <param name="principalProvider" value="..."/> -->
        </LoginModule>
    </Security>

    <!-- location of workspaces root directory and name of default workspace -->
    <Workspaces rootPath="${rep.home}/workspaces"
                defaultWorkspace="default" />

    <Workspace name="${wsp.name}/">
        <FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
            <param name="path" value="${rep.home}/" />
        </FileSystem>
        <PersistenceManager
                class="org.apache.jackrabbit.core.persistence.bundle.H2PersistenceManager">
            <param name="url" value="jdbc:h2:file:${wsp.name}/db;create=true" />
            <param name="schemaObjectPrefix" value="${wsp.name}_" />
        </PersistenceManager>
        <!-- Search index and the file system it uses. class: FQN of class implementing
            the QueryHandler interface -->
        <SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
            <param name="path" value="${wsp.home}/index" />
            <param name="textFilterClasses" value="" />
        </SearchIndex>
    </Workspace>

    <Versioning rootPath="${rep.home}/jcr/version">
        <FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
            <param name="path" value="${rep.home}/jcr/version" />
        </FileSystem>
        <PersistenceManager
                class="org.apache.jackrabbit.core.persistence.bundle.H2PersistenceManager">
            <param name="url" value="jdbc:h2:file:${rep.home}/version/db;create=true" />
            <param name="schemaObjectPrefix" value="version_" />
        </PersistenceManager>
    </Versioning>
    <!-- Search index for content that is shared repository wide (/jcr:system
        tree, contains mainly versions) -->
    <SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
        <param name="path" value="${rep.home}/repository/index" />
        <!-- org.apache.jackrabbit.extractor.MsWordTextExtractor,org.apache.jackrabbit.extractor.MsExcelTextExtractor,org.apache.jackrabbit.extractor.MsPowerPointTextExtractor,org.apache.jackrabbit.extractor.PdfTextExtractor,org.apache.jackrabbit.extractor.OpenOfficeTextExtractor,org.apache.jackrabbit.extractor.RTFTextExtractor,org.apache.jackrabbit.extractor.HTMLTextExtractor,org.apache.jackrabbit.extractor.XMLTextExtractor -->
        <param name="textFilterClasses" value="" />
    </SearchIndex>
</Repository>
