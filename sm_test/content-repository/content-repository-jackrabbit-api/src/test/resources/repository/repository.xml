<?xml version="1.0"?>

<!DOCTYPE Repository
          PUBLIC "-//The Apache Software Foundation//DTD Jackrabbit 2.6//EN"
          "http://jackrabbit.apache.org/dtd/repository-2.6.dtd">

<!-- TESTING ONLY - -->
<Repository>
	<FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
		<param name="path" value="${rep.home}/" />
	</FileSystem>

	<!-- security configuration -->
	<Security appName="Jackrabbit">

		<SecurityManager class="org.apache.jackrabbit.core.DefaultSecurityManager"
			workspaceName="security" />

		<AccessManager
			class="org.apache.jackrabbit.core.security.DefaultAccessManager" />
		<LoginModule
			class="org.apache.jackrabbit.core.security.simple.SimpleLoginModule">
			<!-- param name="anonymousId" value="anonymous" / -->
			<!-- administrator user id (default value if param is missing is 'admin') -->
			<param name="adminId" value="system" />
			<!-- optional parameter 'principalProvider'. the value refers to the class
				name of the PrincipalProvider implementation. -->
			<!-- <param name="principalProvider" value="..."/> -->
		</LoginModule>
	</Security>

	<!-- location of workspaces root directory and name of default workspace -->
	<Workspaces rootPath="${rep.home}/workspaces"
		defaultWorkspace="default" />

	<Workspace name="${wsp.name}/">
		<FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
			<param name="path" value="${rep.home}/" />
		</FileSystem>
		<PersistenceManager
			class="org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager">
		</PersistenceManager>
		<!-- Search index and the file system it uses. class: FQN of class implementing
			the QueryHandler interface -->
		<SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
			<param name="path" value="${wsp.home}/index" />
			<param name="textFilterClasses"
				value="
				org.apache.jackrabbit.extractor.PlainTextExtractor,
				org.apache.jackrabbit.extractor.MsWordTextExtractor,
				org.apache.jackrabbit.extractor.MsExcelTextExtractor,
				org.apache.jackrabbit.extractor.MsPowerPointTextExtractor,
				org.apache.jackrabbit.extractor.PdfTextExtractor,
				org.apache.jackrabbit.extractor.OpenOfficeTextExtractor,
				org.apache.jackrabbit.extractor.RTFTextExtractor,
				org.apache.jackrabbit.extractor.HTMLTextExtractor,
				org.apache.jackrabbit.extractor.XMLTextExtractor" />
			<param name="extractorPoolSize " value="2" />
		</SearchIndex>
	</Workspace>

	<Versioning rootPath="${rep.home}/jcr/version">
		<FileSystem class="org.apache.jackrabbit.core.fs.local.LocalFileSystem">
			<param name="path" value="${rep.home}/jcr/version" />
		</FileSystem>
		<PersistenceManager
			class="org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager">
		</PersistenceManager>
	</Versioning>
	<!-- Search index for content that is shared repository wide (/jcr:system
		tree, contains mainly versions) -->
	<SearchIndex class="org.apache.jackrabbit.core.query.lucene.SearchIndex">
		<param name="path" value="${rep.home}/repository/index" />
		<param name="textFilterClasses"
			value="org.apache.jackrabbit.extractor.PlainTextExtractor,org.apache.jackrabbit.extractor.MsWordTextExtractor,org.apache.jackrabbit.extractor.MsExcelTextExtractor,org.apache.jackrabbit.extractor.MsPowerPointTextExtractor,org.apache.jackrabbit.extractor.PdfTextExtractor,org.apache.jackrabbit.extractor.OpenOfficeTextExtractor,org.apache.jackrabbit.extractor.RTFTextExtractor,org.apache.jackrabbit.extractor.HTMLTextExtractor,org.apache.jackrabbit.extractor.XMLTextExtractor" />
		<param name="extractorPoolSize " value="2" />
	</SearchIndex>
</Repository>
